---
import TooltipWidget from "./TooltipWidget";
---

<TooltipWidget client:idle />
<script>
	import { stageSelector } from "@components/AppearingText/constants";
	import attachTooltipListeners from "./initTooltip";

	attachTooltipListeners({
		"play-audio": (target) =>
			import("@components/AppearingText/lib").then(({ playSingleStage }) => {
				const stage = target.closest<HTMLElement>(stageSelector);
				if (!stage) throw new Error("No stage selected");
				playSingleStage(stage);
			}),
	});
</script>
